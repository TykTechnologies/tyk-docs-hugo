---
date: 2024-08-28
title: Overview
description: "This section explains an overview for how to configure plugins for APIs"
tags: [ "plugins" ]
---

This page provides an overview on how to register one or more custom plugins to be executed at different stages or [hooks]({{< ref "plugins/plugin-types/plugintypes#plugin-and-hook-types" >}}) in the API request/response lifecycle. If you wish to learn how to register custom plugins to be executed on the traffic logs generated by the Gateway please refer to the [analytics plugins]({{< ref "plugins/plugin-types/analytics-plugins" >}}) page. 

If you need fine-grained control at the endpoint level then it is also possible to configure [per-endpoint plugins]({{< ref "product-stack/tyk-gateway/middleware/endpoint-plugin" >}}). These are custom Golang plugins that are triggered at the end of the request processing chain before API-level *Post* plugins are executed.

---

## Introduction

There are three locations where Tyk Gateway can find plugin functions:

1. **gRPC plugins**: Plugin functions are implemented by a gRPC server with the associated configuration specified with the API definition. For further details on how to configure gRPC plugins, please refer to our [gRPC]({{< ref "plugins/supported-languages/rich-plugins/grpc" >}}) documentation.
2. **Local plugins**: Plugins are implemented by functions within source code files located on the Gateway's file system. The API Definition allows the source code file path and function name to be configured for each plugin. For further details read on.
3. **Plugin bundles**: The plugin source code and configuration are bundled into a zip file that is served by a remote web server. For further details see the [plugin bundles]({{< ref "plugins/how-to-serve-plugins/plugin-bundles" >}}) page.

## Plugin data

A custom plugin is implemented as function that accepts the following information:

- `config`: Allows access to configuration properties defined in the API Definition such as the unique API identifier, organization identifier and custom attributes. 
- `request`: Allows access to information relating to the request that triggered the plugin, e.g. headers, request method URL etc. A plugin can manipulate information relating to the request, for example:

  - add / remove request headers and parameters
  - stop middleware execution and return a custom response

- `session`: Provides access to information relating to the session such as quota, rate limits, access allowances and auth data for a specific key. Consequently, this is available only for Custom Authentication, Post, Post Authentication and Response hooks. Session data is read only with the exception of a `meta_data` key/value field that is written to the session store, allowing different plugins to share data.
 
- `response`: Populated with the upstream HTTP response data. Consequently, this is only available to Post and Response hooks.

The availability of data for each [plugin type]({{< ref "plugins/plugin-types/plugintypes" >}}) is summarized in the table below:

| Data | Pre Authentication | Custom Authentication | Post Authentication | Post | Response |  
|:----|:----:|:----:|:----:|:----:|:----:|
| config | yes | yes | yes | yes | yes |
| request | yes | yes | yes | yes | yes |
| session | no | yes | yes | yes | yes |
| response | no | no | no | no | yes

Please refer to documentation in the supported languages section for [Golang plugins]({{< ref "/product-stack/tyk-gateway/advanced-configurations/plugins/golang/writing-go-plugins" >}}), [gRPC plugins]({{< ref "plugins/supported-languages/rich-plugins/grpc/write-grpc-plugin" >}}), [Javascript plugins]({{< ref "plugins/supported-languages/javascript-middleware/middleware-scripting-guide#javascript-resources" >}}) and [Python plugins]({{< ref "plugins/supported-languages/rich-plugins/python/python" >}}) for further details and examples.

---

## Plugin language type

For local and bundle plugins a [plugin driver]({{< ref "plugins/supported-languages#plugin-driver-names" >}}) is configured to specify the plugin implementation language. If using gRPC plugins a `grpc` plugin driver should be used to instruct Tyk to request execution of plugins from within a gRPC server that is external to the Tyk process. This offers additional language support since Tyk can integrate with a gRPC server that is implemented using any supported [gRPC language](https://grpc.io/docs/).

For a given API it is not possible to mix the implementation language for the plugin types: Pre, Custom Authentication, Post, Post Authentication and Response plugins. For example, it is not possible to implement a pre request plugin in *Go* and also implement a post request plugin in *Python* for the same API.

## How Tyk runs local plugins

We have seen that plugins run at predefined stages or [hooks]({{< ref "plugins/plugin-types/plugintypes" >}}) in the API request / response lifecycle.

Tyk Gateway requires the following information to configure and trigger a plugin for each hook:

- `Path`: Path to plugin source code or, in the case of Go plugins a shared object file, containing the function that implements the plugin hook
- `Function name`: Function name that implements the plugin
- `Driver`: The plugin language type

When an API request is issued, Tyk Gateway inspects the API definition to determine if plugins are configured for each hook. If there are plugins configured for a hook then Tyk Gateway will integrate with the plugin based on the source code path, function name and driver.

For language specific details please refer to:

- [GoLang plugins]({{< ref "product-stack/tyk-gateway/advanced-configurations/plugins/golang/writing-go-plugins" >}})
- [Javascript plugins]({{< ref "plugins/supported-languages/javascript-middleware/middleware-scripting-guide" >}})
- [Python plugins]({{< ref "plugins/supported-languages/rich-plugins/python/python" >}})

---

## Next steps

If you’re using the newer Tyk OAS APIs, then check out the [configuring plugins for Tyk OAS APIs]({{< ref "/product-stack/tyk-gateway/advanced-configurations/plugins/api-config/oas" >}}) page for further details.

If you’re using the legacy Tyk Classic APIs, then check out the [configuring plugins for Tyk Classic APIs]({{< ref "/product-stack/tyk-gateway/advanced-configurations/plugins/api-config/classic" >}}) page for further details.
