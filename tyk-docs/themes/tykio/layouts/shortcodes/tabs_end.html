</div>
</div>


<style>
.code-tabs .nav-tabs {
    margin-bottom: 1em;
    padding-left: 0;
}

.code-tabs .nav-tabs li {
    display: inline;
    margin-right: 0em;
    opacity: 0.5;
    padding: 1em 2em;
}

.code-tabs .nav-tabs li.active {
    opacity: 1;
    border-bottom: 2px solid #8438FA;
    font-weight: bold;
}

.code-tabs .tab-pane {
    display: none;
}

.code-tabs .tab-pane.active {
    display: block;
}
</style>

<script>
var tabsBontainer = document.currentScript.previousElementSibling.previousElementSibling;

setTimeout(function(container){
  // Create tab navigation items
  $(container).find('> .tab-content > .tab-pane').each(function(idx, item) {
    var navTabs = $(this.parentNode.parentNode).find('> .nav-tabs'),
        title = $(this).attr('title'),
        id = $(this).attr('id');
    navTabs.append('<li><a href="#' + id + '">'+title+'</a></li');
  });

  // Check if URL has fragment and activate corresponding tab
  function activateTabFromHash() {
    var hash = window.location.hash.substr(1);
    if (hash) {
      // First try exact match (direct tab ID)
      var tabToActivate = $(container).find('> .tab-content > .tab-pane#' + hash);
      
      // If no exact match, check if hash contains both section and tab IDs
      if (!tabToActivate.length) {
        // Get all tab IDs
        var tabIds = [];
        $(container).find('> .tab-content > .tab-pane').each(function() {
          tabIds.push($(this).attr('id'));
        });
        
        // Check if any tab ID is contained within the hash (for section-tab combined links)
        for (var i = 0; i < tabIds.length; i++) {
          var tabId = tabIds[i];
          // If hash ends with the tab ID or contains it followed by a hyphen
          if (hash.endsWith('-' + tabId) || hash.includes('-' + tabId + '-')) {
            tabToActivate = $(container).find('> .tab-content > .tab-pane#' + tabId);
            break;
          }
        }
      }
      
      // If we found a tab to activate
      if (tabToActivate.length) {
        var tabIndex = tabToActivate.index();
        var tabNav = $(container).find('> .nav-tabs > li').eq(tabIndex);
        
        // Deactivate current tabs
        $(container).find('> .nav-tabs > .active').removeClass('active');
        $(container).find('> .tab-content > .active').removeClass('active');
        
        // Activate selected tab
        tabNav.addClass('active');
        tabToActivate.addClass('active');
        return true;
      }
    }
    return false;
  }

  // If no tab is activated by URL hash, activate first tab
  if (!activateTabFromHash()) {
    $(container).find('> ul.nav-tabs').each(function() {
      $(this).find("li:first").addClass('active');
    });
    
    $(container).find('> .tab-content').each(function() {
      $(this).find("div:first").addClass('active');
    });
  }

  // Handle tab clicks - update URL and show tab
  $(container).find('> .nav-tabs a').click(function(e){
    var tab = $(this).parent(),
        tabIndex = tab.index(),
        tabPane = $(container).find('> .tab-content > .tab-pane').eq(tabIndex),
        tabId = tabPane.attr('id');
    
    // Get the existing hash
    var currentHash = window.location.hash.substr(1);
    var newHash = tabId;
    
    // If there's a section ID, preserve it and add the tab ID
    if (currentHash && currentHash !== tabId) {
      // Check if the current hash is a compound hash (section + tab)
      var existingTabIds = [];
      $(container).find('> .tab-content > .tab-pane').each(function() {
        existingTabIds.push($(this).attr('id'));
      });
      
      // Remove any existing tab ID from the current hash
      var sectionPart = currentHash;
      for (var i = 0; i < existingTabIds.length; i++) {
        if (currentHash.endsWith('-' + existingTabIds[i])) {
          sectionPart = currentHash.substring(0, currentHash.length - existingTabIds[i].length - 1);
          break;
        } else if (currentHash.includes('-' + existingTabIds[i] + '-')) {
          var parts = currentHash.split('-' + existingTabIds[i] + '-');
          sectionPart = parts.join('-');
          break;
        }
      }
      
      // Combine section with new tab ID
      newHash = sectionPart + '-' + tabId;
    }
    
    // Update URL without full page reload
    if (history.pushState && tabId) {
      history.pushState(null, null, '#' + newHash);
    } else {
      window.location.hash = newHash;
    }
    
    // Deactivate current tabs
    $(container).find('> .nav-tabs > .active').removeClass('active');
    $(container).find('> .tab-content > .active').removeClass('active');
    
    // Activate selected tab
    tab.addClass('active');
    tabPane.addClass('active');
    
    e.preventDefault();
  });

  // Handle browser back/forward navigation
  $(window).on('hashchange', function() {
    activateTabFromHash();
  });
}, 0, tabsBontainer);
</script>
