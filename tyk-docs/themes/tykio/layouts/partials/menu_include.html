{{- $s := . -}}

<!-- Initialize an empty menu variable -->
{{- $menu := slice -}}

<!-- Initialize an index counter, this is used for removing the 1st <hr> element while rendering labels -->
{{- $index := 0 -}}

<!-- Initial padding for the first label  -->
<div style="padding: 8px;"></div>

<!-- Loop through the top-level menu items -->
{{- range .Site.Data.menu.menu -}}

  {{- $rootMenu := .menu -}}

  {{- if not .show -}}
    {{ continue }}
  {{- end -}}

  <!-- If the category is 'Tab', render the section with a separator -->
  {{- if eq .category "Tab" -}}
    <!-- Only add <hr> if it's not the first item -->
    {{- if gt $index 0 -}}
      <hr>
      <h6 style="font-size: 15px;" >{{ .title }}</h6>
    {{- else -}}
      <a href="/docs/nightly" style="font-size: 15px;" >{{ .title }}</a>
    {{- end -}}
    <!-- Increment the index for each Tab -->
    {{- $index = add $index 1 -}}
  {{- end -}}

  <!-- Assign the root menu to the $menu variable -->
  {{- $menu = $rootMenu -}}

  <!-- Recursively render the menu structure -->
  {{ partial "menu_recursive_2.html" (dict "menu" $menu "page" $s) }}

{{- end -}}
